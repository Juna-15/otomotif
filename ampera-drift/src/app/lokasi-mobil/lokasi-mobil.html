<div class="card car-product-card h-100 shadow-xl border-dark bg-dark text-white">
  
  <div class="card-header car-card-header d-flex justify-content-between align-items-center bg-dark">
      <div class="text-warning rating-box-card">
        <i class="bi bi-star-fill" *ngFor="let star of getStars()"></i>
        <i class="bi bi-star-half" *ngIf="hasHalfStar()"></i>
        <i class="bi bi-star" *ngFor="let star of getEmptyStars()"></i>
        <small class="text-white ms-1 fw-bold">{{ housing.rating }}</small>
      </div>
      <div class="text-white fw-bolder price-tag-card">{{ formatPrice(housing.price) }}</div>
  </div>

  <div class="position-relative overflow-hidden car-image-wrapper">
    <img [src]="housing.image" 
         class="card-img-top car-image-product" 
         [alt]="housing.title">
    
    <span class="position-absolute top-0 start-0 m-3 badge status-badge"
          [ngClass]="{
            'bg-success': housing.status === 'Available',
            'bg-warning text-dark': housing.status === 'Pending',
            'bg-danger': housing.status === 'Sold'
          }">
      {{ housing.status | uppercase }}
    </span>
  </div>

  <div class="card-body d-flex flex-column pt-3 pb-2">
    <h5 class="card-title fw-bolder mb-0 text-white">{{ housing.title }}</h5>
    <p class="text-muted small mb-2">
      <i class="bi bi-geo-alt-fill text-danger me-1"></i>{{ housing.location }}
    </p>

    <p class="card-text text-white-50 small mb-3 description-product flex-grow-1">
      {{ housing.description || 'Kendaraan berkelas dengan performa mesin superior dan desain yang elegan.' }}
    </p>

    <div class="d-flex justify-content-between specs-highlight-product mb-3 pt-2">
        <div class="text-center spec-item">
            <i class="bi bi-speedometer2 text-info fs-5"></i>
            <div class="small fw-bold text-white">{{ housing.engineSize | number }} cc</div>
            <small class="text-white-50">Mesin</small>
        </div>
        <div class="text-center spec-item">
            <i class="bi bi-lightning-charge-fill text-danger fs-5"></i>
            <div class="small fw-bold text-white">{{ housing.horsepower }} HP</div>
            <small class="text-white-50">Tenaga</small>
        </div>
        <div class="text-center spec-item">
            <i class="bi bi-fuel-pump-fill text-warning fs-5"></i>
            <div class="small fw-bold text-white">{{ housing.mileage | number }} km</div>
            <small class="text-white-50">Tempuh</small>
        </div>
    </div>
    
  </div>

  <div class="card-footer car-action-footer d-flex justify-content-between align-items-center bg-dark">
      <small class="text-white-50 fw-light">
        <i class="bi bi-calendar3 me-1"></i>Posted {{ housing.postedDays || 2 }} hari lalu
      </small>
      <div class="d-flex gap-2">
        <button class="btn btn-sm btn-outline-warning flex-grow-0 favorite-btn-vertical">
            <i class="bi bi-heart"></i>
        </button>
        <a [routerLink]="['/car', housing.id]" 
           class="btn btn-warning flex-fill fw-bold text-dark">
            <i class="bi bi-eye me-1"></i>Lihat Detail
        </a>
      </div>
  </div>
</div>